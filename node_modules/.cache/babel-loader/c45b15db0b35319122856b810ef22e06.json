{"ast":null,"code":"import { assertIs, error } from \"../utils\";\nexport var RotationTypes;\n(function (RotationTypes) {\n  RotationTypes[\"Degrees\"] = \"degrees\";\n  RotationTypes[\"Radians\"] = \"radians\";\n})(RotationTypes || (RotationTypes = {}));\nexport var radians = function (radianAngle) {\n  assertIs(radianAngle, 'radianAngle', ['number']);\n  return {\n    type: RotationTypes.Radians,\n    angle: radianAngle\n  };\n};\nexport var degrees = function (degreeAngle) {\n  assertIs(degreeAngle, 'degreeAngle', ['number']);\n  return {\n    type: RotationTypes.Degrees,\n    angle: degreeAngle\n  };\n};\nvar Radians = RotationTypes.Radians,\n  Degrees = RotationTypes.Degrees;\nexport var degreesToRadians = function (degree) {\n  return degree * Math.PI / 180;\n};\nexport var radiansToDegrees = function (radian) {\n  return radian * 180 / Math.PI;\n};\n// prettier-ignore\nexport var toRadians = function (rotation) {\n  return rotation.type === Radians ? rotation.angle : rotation.type === Degrees ? degreesToRadians(rotation.angle) : error(\"Invalid rotation: \" + JSON.stringify(rotation));\n};\n// prettier-ignore\nexport var toDegrees = function (rotation) {\n  return rotation.type === Radians ? radiansToDegrees(rotation.angle) : rotation.type === Degrees ? rotation.angle : error(\"Invalid rotation: \" + JSON.stringify(rotation));\n};\nexport var reduceRotation = function (degreeAngle) {\n  if (degreeAngle === void 0) {\n    degreeAngle = 0;\n  }\n  var quadrants = degreeAngle / 90 % 4;\n  if (quadrants === 0) return 0;\n  if (quadrants === 1) return 90;\n  if (quadrants === 2) return 180;\n  if (quadrants === 3) return 270;\n  return 0; // `degreeAngle` is not a multiple of 90\n};\nexport var adjustDimsForRotation = function (dims, degreeAngle) {\n  if (degreeAngle === void 0) {\n    degreeAngle = 0;\n  }\n  var rotation = reduceRotation(degreeAngle);\n  return rotation === 90 || rotation === 270 ? {\n    width: dims.height,\n    height: dims.width\n  } : {\n    width: dims.width,\n    height: dims.height\n  };\n};\nexport var rotateRectangle = function (rectangle, borderWidth, degreeAngle) {\n  if (borderWidth === void 0) {\n    borderWidth = 0;\n  }\n  if (degreeAngle === void 0) {\n    degreeAngle = 0;\n  }\n  var x = rectangle.x,\n    y = rectangle.y,\n    w = rectangle.width,\n    h = rectangle.height;\n  var r = reduceRotation(degreeAngle);\n  var b = borderWidth / 2;\n  // prettier-ignore\n  if (r === 0) return {\n    x: x - b,\n    y: y - b,\n    width: w,\n    height: h\n  };else if (r === 90) return {\n    x: x - h + b,\n    y: y - b,\n    width: h,\n    height: w\n  };else if (r === 180) return {\n    x: x - w + b,\n    y: y - h + b,\n    width: w,\n    height: h\n  };else if (r === 270) return {\n    x: x - b,\n    y: y - w + b,\n    width: h,\n    height: w\n  };else return {\n    x: x - b,\n    y: y - b,\n    width: w,\n    height: h\n  };\n};","map":{"version":3,"sources":["../../src/api/rotations.ts"],"names":[],"mappings":"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","sourceRoot":"","sourcesContent":["import { assertIs, error } from \"../utils\";\nexport var RotationTypes;\n(function (RotationTypes) {\n    RotationTypes[\"Degrees\"] = \"degrees\";\n    RotationTypes[\"Radians\"] = \"radians\";\n})(RotationTypes || (RotationTypes = {}));\nexport var radians = function (radianAngle) {\n    assertIs(radianAngle, 'radianAngle', ['number']);\n    return { type: RotationTypes.Radians, angle: radianAngle };\n};\nexport var degrees = function (degreeAngle) {\n    assertIs(degreeAngle, 'degreeAngle', ['number']);\n    return { type: RotationTypes.Degrees, angle: degreeAngle };\n};\nvar Radians = RotationTypes.Radians, Degrees = RotationTypes.Degrees;\nexport var degreesToRadians = function (degree) { return (degree * Math.PI) / 180; };\nexport var radiansToDegrees = function (radian) { return (radian * 180) / Math.PI; };\n// prettier-ignore\nexport var toRadians = function (rotation) {\n    return rotation.type === Radians ? rotation.angle\n        : rotation.type === Degrees ? degreesToRadians(rotation.angle)\n            : error(\"Invalid rotation: \" + JSON.stringify(rotation));\n};\n// prettier-ignore\nexport var toDegrees = function (rotation) {\n    return rotation.type === Radians ? radiansToDegrees(rotation.angle)\n        : rotation.type === Degrees ? rotation.angle\n            : error(\"Invalid rotation: \" + JSON.stringify(rotation));\n};\nexport var reduceRotation = function (degreeAngle) {\n    if (degreeAngle === void 0) { degreeAngle = 0; }\n    var quadrants = (degreeAngle / 90) % 4;\n    if (quadrants === 0)\n        return 0;\n    if (quadrants === 1)\n        return 90;\n    if (quadrants === 2)\n        return 180;\n    if (quadrants === 3)\n        return 270;\n    return 0; // `degreeAngle` is not a multiple of 90\n};\nexport var adjustDimsForRotation = function (dims, degreeAngle) {\n    if (degreeAngle === void 0) { degreeAngle = 0; }\n    var rotation = reduceRotation(degreeAngle);\n    return rotation === 90 || rotation === 270\n        ? { width: dims.height, height: dims.width }\n        : { width: dims.width, height: dims.height };\n};\nexport var rotateRectangle = function (rectangle, borderWidth, degreeAngle) {\n    if (borderWidth === void 0) { borderWidth = 0; }\n    if (degreeAngle === void 0) { degreeAngle = 0; }\n    var x = rectangle.x, y = rectangle.y, w = rectangle.width, h = rectangle.height;\n    var r = reduceRotation(degreeAngle);\n    var b = borderWidth / 2;\n    // prettier-ignore\n    if (r === 0)\n        return { x: x - b, y: y - b, width: w, height: h };\n    else if (r === 90)\n        return { x: x - h + b, y: y - b, width: h, height: w };\n    else if (r === 180)\n        return { x: x - w + b, y: y - h + b, width: w, height: h };\n    else if (r === 270)\n        return { x: x - b, y: y - w + b, width: h, height: w };\n    else\n        return { x: x - b, y: y - b, width: w, height: h };\n};\n//# sourceMappingURL=rotations.js.map"]},"metadata":{},"sourceType":"module"}