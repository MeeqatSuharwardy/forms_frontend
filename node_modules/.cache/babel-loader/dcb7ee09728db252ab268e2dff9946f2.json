{"ast":null,"code":"import React from\"react\";import{connect}from\"react-redux\";import{auth}from\"./firebaseConfig\";// Import Firebase authentication\nimport Logo from\"../assets/images/logo/psychiatry_logo.png\";import{updateEmail,updatePassword}from\"../actions\";import{signInWithEmailAndPassword}from\"firebase/auth\";class Login extends React.Component{constructor(props){super(props);this.handleLogin=async event=>{event.preventDefault();const{email,password}=this.props;try{await signInWithEmailAndPassword(auth,email,password);console.log(\"Logged in successfully!\");// Redirect or handle the success case\n}catch(error){this.setState({error:error.message});console.error(\"Authentication error:\",error);}};this.state={isLoad:true,error:null// Added to handle authentication errors\n};}componentDidMount(){setTimeout(()=>{this.setState({isLoad:false});},500);document.body.classList.remove(\"theme-cyan\");}render(){const{isLoad,error}=this.state;return/*#__PURE__*/React.createElement(\"div\",{className:\"theme-cyan\"},/*#__PURE__*/React.createElement(\"div\",{className:\"page-loader-wrapper\",style:{display:isLoad?\"block\":\"none\"}},/*#__PURE__*/React.createElement(\"div\",{className:\"loader\"},/*#__PURE__*/React.createElement(\"img\",{src:Logo,alt:\"Lucid\",width:\"48\",height:\"48\"}),/*#__PURE__*/React.createElement(\"p\",null,\"Please wait...\"))),/*#__PURE__*/React.createElement(\"div\",{className:\"auth-main\"},/*#__PURE__*/React.createElement(\"div\",{className:\"auth-box\"},/*#__PURE__*/React.createElement(\"div\",{className:\"top\"},/*#__PURE__*/React.createElement(\"img\",{src:Logo,alt:\"Lucid\",style:{height:\"40px\",margin:\"10px\"}})),/*#__PURE__*/React.createElement(\"div\",{className:\"card\"},/*#__PURE__*/React.createElement(\"div\",{className:\"header\"},/*#__PURE__*/React.createElement(\"p\",{className:\"lead\"},\"Login to your account\")),/*#__PURE__*/React.createElement(\"div\",{className:\"body\"},/*#__PURE__*/React.createElement(\"form\",{onSubmit:this.handleLogin},error&&/*#__PURE__*/React.createElement(\"p\",{className:\"text-danger\"},error),/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(\"input\",{type:\"email\",className:\"form-control\",placeholder:\"Email\",value:this.props.email,onChange:e=>this.props.updateEmail(e.target.value)})),/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(\"input\",{type:\"password\",className:\"form-control\",placeholder:\"Password\",value:this.props.password,onChange:e=>this.props.updatePassword(e.target.value)})),/*#__PURE__*/React.createElement(\"a\",{className:\"btn btn-primary btn-lg btn-block\",href:\"filedocuments\"},\"Login\")))))));}}const mapStateToProps=state=>({email:state.loginReducer.email,password:state.loginReducer.password});const mapDispatchToProps={updateEmail,updatePassword};export default connect(mapStateToProps,mapDispatchToProps)(Login);","map":{"version":3,"names":["React","connect","auth","Logo","updateEmail","updatePassword","signInWithEmailAndPassword","Login","Component","constructor","props","handleLogin","event","preventDefault","email","password","console","log","error","setState","message","state","isLoad","componentDidMount","setTimeout","document","body","classList","remove","render","createElement","className","style","display","src","alt","width","height","margin","onSubmit","type","placeholder","value","onChange","e","target","href","mapStateToProps","loginReducer","mapDispatchToProps"],"sources":["/Users/meeqatsuharwardy/forms_frontend/src/screens/Login.js"],"sourcesContent":["import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport PropTypes from \"prop-types\";\r\nimport { auth } from \"./firebaseConfig\"; // Import Firebase authentication\r\nimport Logo from \"../assets/images/logo/psychiatry_logo.png\";\r\nimport { updateEmail, updatePassword } from \"../actions\";\r\nimport { signInWithEmailAndPassword } from \"firebase/auth\";\r\n\r\nclass Login extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      isLoad: true,\r\n      error: null, // Added to handle authentication errors\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    setTimeout(() => {\r\n      this.setState({ isLoad: false });\r\n    }, 500);\r\n    document.body.classList.remove(\"theme-cyan\");\r\n  }\r\n\r\n  handleLogin = async (event) => {\r\n    event.preventDefault();\r\n    const { email, password } = this.props;\r\n    try {\r\n      await signInWithEmailAndPassword(auth, email, password);\r\n      console.log(\"Logged in successfully!\");\r\n      // Redirect or handle the success case\r\n    } catch (error) {\r\n      this.setState({ error: error.message });\r\n      console.error(\"Authentication error:\", error);\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const { isLoad, error } = this.state;\r\n    return (\r\n      <div className=\"theme-cyan\">\r\n        <div\r\n          className=\"page-loader-wrapper\"\r\n          style={{ display: isLoad ? \"block\" : \"none\" }}\r\n        >\r\n          <div className=\"loader\">\r\n            <img src={Logo} alt=\"Lucid\" width=\"48\" height=\"48\" />\r\n            <p>Please wait...</p>\r\n          </div>\r\n        </div>\r\n        <div className=\"auth-main\">\r\n          <div className=\"auth-box\">\r\n            <div className=\"top\">\r\n              <img\r\n                src={Logo}\r\n                alt=\"Lucid\"\r\n                style={{ height: \"40px\", margin: \"10px\" }}\r\n              />\r\n            </div>\r\n            <div className=\"card\">\r\n              <div className=\"header\">\r\n                <p className=\"lead\">Login to your account</p>\r\n              </div>\r\n              <div className=\"body\">\r\n                <form onSubmit={this.handleLogin}>\r\n                  {error && <p className=\"text-danger\">{error}</p>}\r\n                  <div className=\"form-group\">\r\n                    <input\r\n                      type=\"email\"\r\n                      className=\"form-control\"\r\n                      placeholder=\"Email\"\r\n                      value={this.props.email}\r\n                      onChange={(e) => this.props.updateEmail(e.target.value)}\r\n                    />\r\n                  </div>\r\n                  <div className=\"form-group\">\r\n                    <input\r\n                      type=\"password\"\r\n                      className=\"form-control\"\r\n                      placeholder=\"Password\"\r\n                      value={this.props.password}\r\n                      onChange={(e) =>\r\n                        this.props.updatePassword(e.target.value)\r\n                      }\r\n                    />\r\n                  </div>\r\n                  <a\r\n                    className=\"btn btn-primary btn-lg btn-block\"\r\n                    href=\"filedocuments\"\r\n                  >\r\n                    Login\r\n                  </a>\r\n                </form>\r\n                {/* <div className=\"bottom\">\r\n                  <span className=\"helper-text\">\r\n                    <i className=\"fa fa-lock\"></i>{\" \"}\r\n                    <a href=\"forgotpassword\">Forgot password?</a>\r\n                  </span>\r\n                  <span>\r\n                    Don't have an account? <a href=\"registration\">Register</a>\r\n                  </span>\r\n                </div> */}\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nLogin.propTypes = {\r\n  updateEmail: PropTypes.func.isRequired,\r\n  updatePassword: PropTypes.func.isRequired,\r\n  email: PropTypes.string.isRequired,\r\n  password: PropTypes.string.isRequired,\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n  email: state.loginReducer.email,\r\n  password: state.loginReducer.password,\r\n});\r\n\r\nconst mapDispatchToProps = {\r\n  updateEmail,\r\n  updatePassword,\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Login);\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}