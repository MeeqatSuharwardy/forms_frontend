{"ast":null,"code":"var _jsxFileName = \"/Users/meeqatsuharwardy/forms_frontend/src/components/Forms/new_forms/I9/i9.js\";\nimport React, { useState } from \"react\";\nimport { PDFDocument } from \"pdf-lib\";\nimport I9 from \"../../../../assets/files/i-9.pdf\";\nexport default function PDFViewer() {\n  const [pdfUrl, setPdfUrl] = useState(\"../../\"); // Assuming this path serves the default PDF\n\n  const onFileChange = async event => {\n    const uploadedFile = event.target.files[0];\n    if (uploadedFile) {\n      const pdfDoc = await PDFDocument.load(await uploadedFile.arrayBuffer());\n      // Perform your pdf-lib operations here, e.g., fill in forms\n\n      // Save the edited PDF back to a Blob\n      const pdfBytes = await pdfDoc.save();\n      const blob = new Blob([pdfBytes], {\n        type: \"application/pdf\"\n      });\n      setPdfUrl(URL.createObjectURL(blob));\n    }\n  };\n  const onFormSubmit = event => {\n    event.preventDefault();\n    const formData = new FormData();\n    formData.append(\"full_name\", event.target.full_name.value);\n    formData.append(\"date_of_birth\", event.target.date_of_birth.value);\n    formData.append(\"submitted_year\", new Date().getFullYear());\n    fetch(pdfUrl) // Fetch from the blob URL\n    .then(res => res.blob()).then(blob => {\n      formData.append(\"pdf_file\", blob, \"edited.pdf\");\n      return fetch(\"http://127.0.0.1:8000/upload_pdf/\", {\n        method: \"POST\",\n        body: formData\n      });\n    }).then(response => response.json()).then(data => console.log(data));\n  };\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"file\",\n    onChange: onFileChange,\n    accept: \"application/pdf\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"iframe\", {\n    src: pdfUrl,\n    width: \"100%\",\n    height: \"500px\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: onFormSubmit,\n    enctype: \"multipart/form-data\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    name: \"full_name\",\n    placeholder: \"Full Name\",\n    required: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"date\",\n    name: \"date_of_birth\",\n    required: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    type: \"submit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 9\n    }\n  }, \"Save PDF\")));\n}","map":{"version":3,"names":["React","useState","PDFDocument","I9","PDFViewer","pdfUrl","setPdfUrl","onFileChange","event","uploadedFile","target","files","pdfDoc","load","arrayBuffer","pdfBytes","save","blob","Blob","type","URL","createObjectURL","onFormSubmit","preventDefault","formData","FormData","append","full_name","value","date_of_birth","Date","getFullYear","fetch","then","res","method","body","response","json","data","console","log","createElement","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","onChange","accept","src","width","height","onSubmit","enctype","name","placeholder","required"],"sources":["/Users/meeqatsuharwardy/forms_frontend/src/components/Forms/new_forms/I9/i9.js"],"sourcesContent":["import React, { useState } from \"react\";\nimport { PDFDocument } from \"pdf-lib\";\nimport I9 from \"../../../../assets/files/i-9.pdf\";\n\nexport default function PDFViewer() {\n  const [pdfUrl, setPdfUrl] = useState(\"../../\"); // Assuming this path serves the default PDF\n\n  const onFileChange = async (event) => {\n    const uploadedFile = event.target.files[0];\n    if (uploadedFile) {\n      const pdfDoc = await PDFDocument.load(await uploadedFile.arrayBuffer());\n      // Perform your pdf-lib operations here, e.g., fill in forms\n\n      // Save the edited PDF back to a Blob\n      const pdfBytes = await pdfDoc.save();\n      const blob = new Blob([pdfBytes], { type: \"application/pdf\" });\n      setPdfUrl(URL.createObjectURL(blob));\n    }\n  };\n\n  const onFormSubmit = (event) => {\n    event.preventDefault();\n    const formData = new FormData();\n    formData.append(\"full_name\", event.target.full_name.value);\n    formData.append(\"date_of_birth\", event.target.date_of_birth.value);\n    formData.append(\"submitted_year\", new Date().getFullYear());\n\n    fetch(pdfUrl) // Fetch from the blob URL\n      .then((res) => res.blob())\n      .then((blob) => {\n        formData.append(\"pdf_file\", blob, \"edited.pdf\");\n        return fetch(\"http://127.0.0.1:8000/upload_pdf/\", {\n          method: \"POST\",\n          body: formData,\n        });\n      })\n      .then((response) => response.json())\n      .then((data) => console.log(data));\n  };\n\n  return (\n    <div>\n      <input type=\"file\" onChange={onFileChange} accept=\"application/pdf\" />\n      <iframe src={pdfUrl} width=\"100%\" height=\"500px\"></iframe>\n      <form onSubmit={onFormSubmit} enctype=\"multipart/form-data\">\n        <input name=\"full_name\" placeholder=\"Full Name\" required />\n        <input type=\"date\" name=\"date_of_birth\" required />\n        <button type=\"submit\">Save PDF</button>\n      </form>\n    </div>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}